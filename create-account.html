<!DOCTYPE html>
<head>
	<title>注册</title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="js/lib/jquery.js"></script>
	<script src="js/dist/jquery.validate.js"></script>
	<link rel="stylesheet" type="text/css" href="css/screen.css">
	
	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
	<link href="css/templatemo_style.css" rel="stylesheet" type="text/css">	
	<script type="text/javascript">


	$().ready(function() {
		$("#username").blur(function(){
			$.post('{%url ajax_nameValidate%}', {'username':$("#username").val(),},function(ret){

				if(ret=='1')
				{
					$("iusername").after("<p>该用户名未被注册</p>");
				}
				else if(ret=='2')
				{
					$("#iusername").after("<p styel='color:red;'>该用户名已经被注册</p>");					
				}
			} );
		});
		$("#student_id").blur(function(){
			$.post('{%url ajax_nameValidate2%}', {'student_id':$("#student_id").val(),},function(ret){

				 if(ret=='1')
				{
					$("#iusername").after("<p styel='color:red;'>该学号已经被注册</p>");					
				}
			} );
		});
	$("#ilogin").validate({
    rules: {
    	first_name:{
    		required: true,
    		minlength: 2
    	},
    	last_name:{
    		required: true,
    		minlength: 2
    	},
    	qq:{
    		required: true,
    	},
    	phone:{
    		required: true,
    	},
    	student_id:{
    		required: true,
    		minlength: 10
    	},
    	institution:{
    		required: true,
    	},
    	email:{
    		required: true,
    		email: true
    	},
    	username:{
    		required: true,
    		minlength: 2
    	},
       password: {
        required: true,
        minlength: 6
       },
       password_confirm: {
        required: true,
        minlength: 6,
        equalTo: "#password"
       },
       accept_decree:{
       	required:true
       }
      },
     messages:
     {
    	first_name:{
    		required: "请填写您的姓",
    		minlength: "请输入至少两个字符"
    	},
    	last_name:{
    		required: "请填写您的名",
    		minlength: "请输入至少两个字符"
    	},
     	qq:{
    		required: "请输入您的QQ",
    	},
    	phone:{
    		required: "请输入您的手机号",
    	},
     	student_id:{
    		required: "请输入您的学号",
    		minlength: "学号位数不正确"
    	},
    	institution:{
    		required: "请输入您的学院",
    	},
    	email:{
    		required: "请输入您的email",
    		email: "email格式不正确"
    	},
    	username:{
    		required: "请输入您的用户名",
    		minlength: "请输入至少两个字符"
    	},


		password: {
        required: "请填写密码",
        minlength: "密码长度不应小于6",
       },
       password_confirm: {
        required: "请确认密码",
        minlength: "密码长度不应小于6",
        equalTo: "两次输入密码不相符"
       },
       accept_decree:{
       	required:"您必须选择此项"
       }

     },

errorPlacement : function(error, element) {
if (element.is(":radio"))
error.appendTo(element.parent());
else if (element.is(":checkbox"))
error.appendTo(element.parent().parent());
else
	error.appendTo(element.parent());
}

    })}


    );
	</script>
</head>
<body class="templatemo-bg-gray">
	<h1 class="margin-bottom-15">普通成员注册</h1>
	<div class="container">
		<div class="col-md-12">			
			<form class="form-horizontal templatemo-create-account templatemo-container" role="form" action="{%url userRegister%}" method="post" id="ilogin">
				<div class="form-inner">

		
					<div class="form-group">
			          <div class="col-md-6">		          	
			            <label for="first_name" class="control-label">姓</label>
			            <input type="text" class="form-control" id="first_name" name="first_name" placeholder="">		            		            		            
			          </div>  
			          <div class="col-md-6">		          	
			            <label for="last_name" class="control-label">名</label>
			            <input type="text" class="form-control" id="last_name" name="last_name" placeholder="">		            		            		            
			          </div>  
			          </div>
					<div class="form-group">
			          <div class="col-md-6">		          	
			            <label for="qq" class="control-label">QQ</label>
			            <input type="text" class="form-control" id="qq" name="qq" placeholder="">		            		            		            
			          </div>  
			          <div class="col-md-6">		          	
			            <label for="phone" class="control-label">手机号</label>
			            <input type="text" class="form-control" id="phone" name="phone" placeholder="">		            		            		            
			          </div>  
			          </div>
			          <div class="form-group">
			          <div class="col-md-6">		          	
			            <label for="student_id" class="control-label">学号</label>
			            <input type="text" class="form-control" id="student_id" name="student_id" placeholder="">		            		            		            
			          </div>  
			          <div class="col-md-6">		          	
			            <label for="inistitution" class="control-label">学院</label>
			            <input type="text" class="form-control" id="institution" name="institution" placeholder="">		            		            		            
			          </div>             
			        </div>
			        <div class="form-group">
			          <div class="col-md-12">		          	
			            <label for="username" class="control-label">Email</label>
			            <input type="email" class="form-control" id="email" name="email" placeholder="">		            		            		            
			          </div>              
			        </div>			
			        <div class="form-group">
			          <div class="col-md-6">		          	
			            <label for="username" class="control-label">用户名</label>
			            <input type="text" class="form-control" id="username" name="username" placeholder="">		            		            		            
			          </div>
			          <div class="col-md-6 templatemo-radio-group">
			          	<label class="radio-inline">
		          			<input type="radio" name="optionsRadios" id="optionsRadios1" value="option1"> 男
		          		</label>
		          		<label class="radio-inline">
		          			<input type="radio" name="optionsRadios" id="optionsRadios2" value="option2" required="true"> 女
		          		</label>
			          </div>             
			        </div>
			        <div class="form-group">
			          <div class="col-md-6">
			            <label for="password" class="control-label">密码</label>
			            <input type="password" class="form-control" id="password" name="password" placeholder="">
			          </div>
			          <div class="col-md-6">
			            <label for="password" class="control-label">确认密码</label>
			            <input type="password" class="form-control" id="password_confirm" name="password_confirm" placeholder="">
			          </div>
			        </div>
			        <div class="form-group">
			          <div class="col-md-12">
			            <label><input name="accept_decree" type="checkbox" required="true">我同意<a href="javascript:;" data-toggle="modal" data-target="#templatemo_modal">学生社团管理条例</a> 。</label>
			          </div>
			        </div>
			        <div class="form-group">
			          <div class="col-md-12">
			            <input type="submit" value="注册普通成员" class="btn btn-info">
			            <a href="login.html" class="pull-right">登陆</a>
			          </div>
			        </div>	

				</div>				    	
		      </form>		      
		</div>
	</div>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
</body>
</html>